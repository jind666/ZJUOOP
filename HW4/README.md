![题目要求](/img/HW4.png)

这里是我的第四次作业。作业要求如上图所示，下面再来展开说一些细节。

1. 作业要求：
   实现一个私人日记本，用来管理日记。需要实现的功能包括，添加日记、显示有哪些天添加过日记、打印具体某一天的日记以及删除某一天的日记。  
   + 若使用添加日记功能，输入 `pdadd` 指令；
   + 若使用显示有日记的日子的功能，输入 `pdlist` 或 `pdlist [, ]` 指令；
   + 若使用打印日记的功能，输入 `pdshow` 指令；
   + 若使用删除日记的功能，输入 `pdremove` 指令。

2. 输入说明：
   开始执行后，首先会看到输入指令的提示：`Enter a command from {'pdadd', 'pdlist', 'pdlist [YYYY-MM-DD, YYYY-MM-DD]', 'pdshow', 'pdremove', 'exit'}`。  
   ==！！！花括号内列出了有效的指令，格式不符的其他指令将报错==  

   + `pdadd` 指令：
     输入该指令后，会提示你输入要添加日记的日期。  
     ==！！！日期的格式必须为 `YYYY-MM-DD`，否则会报错。类似 `2021-1-1` `100-5-19` 这样的日期格式都不符合要求。==  
     输入日期后开始输入日记内容，为提高可读性，我在每行之间加入了一行 `------` 作为分割线。  
     输入以单行的 `.` 或 `EOF` 作为结束的标志。  
     ==！！！但要注意的是，输入 `.` 后只会结束 `pdadd` 指令，程序此时还在运行，可以接着输入其他指令；但要输入 `EOF` 程序也会结束运行，需要重启才能再次运行。==  

     示例：  
     ```shell
     $ Enter a command from {'pdadd', 'pdlist', 'pdlist [YYYY-MM-DD, YYYY-MM-DD]', 'pdshow', 'pdremove', 'exit'}
     $ pdadd
     $ Enter the date you want to add (YYYY-MM-DD): 2025-04-10
     $ ------
     $ test
     $ ------
     $ .
     ```
     这样2025年4月10日就添加了一条内容为test的日记。  
   + `pdlist` 指令：
     这条指令有两种情况：  
     1. 如果你想看到所有记录，输入 `pdlist` 即可。
     2. 如果你想看到指定日期范围内的记录，输入 `pdlist [YYYY-MM-DD, yyyy-mm-dd]`，其中 `YYYY-MM-DD` 为起始日期，`yyyy-mm-dd` 为结束日期。（==！！！注意指令格式必须与样例一致，不要忘记逗号和逗号后面的空格，缺少其一也会报错。==）
   + `pdshow` 指令：  
     输入该指令后，会提示你输入要打印日记的日期，日期格式同样为 `YYYY-MM-DD` 。  

     示例：
     ```shell
     $ Enter a command from {'pdadd', 'pdlist [YYYY-MM-DD, YYYY-MM-DD]', 'pdshow', 'pdremove', 'exit'}
     $ pdshow
     $ Enter the date you want to show (YYYY-MM-DD): 2025-04-10
     $ ...
     ```  
   + `pdremove` 指令：  
     输入该指令后，会提示你输入要删除日记的日期，日期格式同样为 `YYYY-MM-DD` 。
   + `exit` 指令：  
     输入该指令后程序结束运行。

3. 输出说明：
   + `pdlist` 指令：  
     输出范围日期内有日记的日期，输出格式为 `YYYY-MM-DD`。若没有符合的日期或输入不合法会有报错提示。
   + `pdshow` 指令：  
     输出指定日期的日记内容。若该日期没有日记或输入不合法会有报错提示。
   + `pdremove` 指令：  
     删除成功输出 `[0] Remove successfully.`；删除失败输出 `[-1] (失败原因)`；

4. 编译运行说明：
   因为我的源文件中使用了不少C++11的标准，所以命令行编译请使用：  
   `g++ -std=c++11 'Personal Diary.cpp'`   
   不加 `-std=c++11` 选项会出现警告。  
   你也可以用其他方式编译，但请不要忘记在C++11标准下。  

5. 其他说明：
   因为题目中要求所有日记内容要保存在一个数据文件中，每次程序运行时将其载入内存，运行结束时又写回文件。  
   因此我创建 `Diary.txt` 文件用来存放所有日记数据，包括日期和日记内容。程序开始时我将文件内容读取进来，结束时再写回去。  
   因此如果有 `pdadd` 和 `pdremove` 等指令，程序结束后文件也会随之更新。  
   为了方便读入，文件内不同的日记之间以 `.` 作为分隔。  
   同时为了方便老师和助教gg检查，我在 `Diary.txt` 文件中已经写好了几条日记，程序开始运行后就载入内存了，可拿来直接使用。  

6. 其他文件：
   + `Personal Diary.cpp`：程序源文件。
   + `DateDiary.h`：头文件，内含日记类、打印函数等定义。

     